import{a as N,b as D,c as F,d as L,e as $}from"./chunk-OXTZ4UVG.js";import"./chunk-SJFBDICB.js";import{a as J}from"./chunk-DR5ZIOY5.js";import{g as V,h as Q,i as Y,l as g,n as A,q as x}from"./chunk-PCB2IHHA.js";import"./chunk-QS7URK5Q.js";import{Q as G,R as H,b as T,c as B,d as R,e as s,o as j,p as q,r as d}from"./chunk-HIDOLV5M.js";import{Ab as S,Bb as M,Ib as I,Ma as c,Mb as o,Nb as _,Ob as a,Ra as f,V as P,Vb as p,Wb as l,Xb as E,Ya as k,Za as v,bb as h,ca as y,da as b,ob as C,pb as e,qb as n,rb as w,xb as z}from"./chunk-2AP2YPDH.js";function W(i,r){if(i&1&&(e(0,"mat-list-item",20)(1,"div",21)(2,"div",22)(3,"mat-icon",23),o(4,"menu_book"),n(),e(5,"div",24)(6,"div",25),o(7),n(),e(8,"div",26)(9,"span",27),o(10),n(),e(11,"span",28),o(12),p(13,"number"),n()(),e(14,"div",29)(15,"span",30),o(16),p(17,"number"),n()()()()()()),i&2){let t=r.$implicit;c(7),_(t.title),c(3),a("Quantity: ",t.quantity),c(2),a("@ $",l(13,4,(t.price==null?null:t.price.amount)||0,"1.2-2")),c(4),a("$",l(17,7,((t.price==null?null:t.price.amount)||0)*t.quantity,"1.2-2"))}}function X(i,r){if(i&1){let t=z();e(0,"div")(1,"div",7)(2,"h3",8)(3,"mat-icon"),o(4,"receipt"),n(),e(5,"span"),o(6,"Order Summary"),n()(),e(7,"mat-list",9),h(8,W,18,10,"mat-list-item",10),n()(),e(9,"div",11)(10,"div",12)(11,"span",13),o(12,"Total Items:"),n(),e(13,"span",14)(14,"strong"),o(15),n()()(),e(16,"div",15)(17,"span",13),o(18,"Total Price:"),n(),e(19,"span",16)(20,"strong"),o(21),p(22,"number"),n()()()(),e(23,"div",17)(24,"button",18)(25,"mat-icon"),o(26,"arrow_back"),n(),e(27,"span"),o(28,"Back to Cart"),n()(),e(29,"button",19),S("click",function(){y(t);let u=M();return b(u.placeOrder())}),e(30,"mat-icon"),o(31,"check_circle"),n(),e(32,"span"),o(33,"Place Order"),n()()()()}if(i&2){let t=M();c(8),C("ngForOf",t.cartItems),c(7),_(t.getTotalItems()),c(6),a("$",l(22,3,t.getTotalPrice(),"1.2-2"))}}function Z(i,r){i&1&&(e(0,"div",31)(1,"mat-icon",32),o(2,"shopping_cart_outlined"),n(),e(3,"div",33),o(4,"Your cart is empty."),n(),e(5,"div",34)(6,"button",35)(7,"mat-icon"),o(8,"store"),n(),e(9,"span"),o(10,"Browse Books"),n()()()())}var m=class i{constructor(r,t){this.cartService=r;this.router=t;this.cartItems=this.cartService.getCart()}cartItems=[];getTotalItems(){return this.cartItems.reduce((r,t)=>r+t.quantity,0)}getTotalPrice(){return this.cartItems.reduce((r,t)=>r+(t.price?.amount||0)*t.quantity,0)}placeOrder(){this.cartService.setCart([]),this.router.navigate(["/order-success"])}static \u0275fac=function(t){return new(t||i)(f(J),f(j))};static \u0275cmp=k({type:i,selectors:[["app-checkout"]],decls:11,vars:2,consts:[["emptyCart",""],[1,"checkout-container"],[1,"checkout-title"],["color","primary",1,"checkout-icon"],[1,"checkout-divider"],[1,"checkout-content"],[4,"ngIf","ngIfElse"],[1,"order-summary"],[1,"summary-title"],[1,"checkout-list"],["class","checkout-item",4,"ngFor","ngForOf"],[1,"checkout-summary"],[1,"summary-row"],[1,"summary-label"],[1,"summary-value"],[1,"summary-row","total-row"],[1,"summary-total-price"],[1,"checkout-actions"],["mat-button","","color","accent","routerLink","/cart",1,"action-btn"],["mat-raised-button","","color","primary",1,"action-btn","place-order-btn",3,"click"],[1,"checkout-item"],[1,"checkout-item-content"],[1,"item-info"],["color","primary",1,"item-icon"],[1,"item-details"],[1,"checkout-item-title"],[1,"item-meta"],[1,"item-qty"],[1,"item-price"],[1,"item-total"],[1,"total-amount"],[1,"empty-cart"],["color","disabled",1,"empty-cart-icon"],[1,"empty-cart-msg"],[1,"empty-cart-actions"],["mat-raised-button","","color","accent","routerLink","/",1,"browse-btn"]],template:function(t,O){if(t&1&&(e(0,"mat-card",1)(1,"mat-card-title",2)(2,"mat-icon",3),o(3,"shopping_cart_checkout"),n(),e(4,"span"),o(5,"Checkout"),n()(),w(6,"mat-divider",4),e(7,"mat-card-content",5),h(8,X,34,6,"div",6)(9,Z,11,0,"ng-template",null,0,E),n()()),t&2){let u=I(10);c(8),C("ngIf",O.cartItems.length>0)("ngIfElse",u)}},dependencies:[g,V,Y,Q,x,A,d,q,$,F,L,N,D,H,G,s,T,B,R],styles:[".checkout-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000004d;background-color:var(--surface-color);color:var(--text-color)}.checkout-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:24px 24px 16px;font-size:1.5rem;font-weight:600;color:var(--text-color);background:linear-gradient(135deg,var(--surface-color) 0%,var(--background-color) 100%);border-bottom:1px solid var(--border-color)}.checkout-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.checkout-divider[_ngcontent-%COMP%]{margin:0}.checkout-content[_ngcontent-%COMP%]{padding:24px}.order-summary[_ngcontent-%COMP%]{margin-bottom:32px}.summary-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1.3rem;font-weight:600;margin-bottom:20px;padding-bottom:8px;border-bottom:2px solid var(--border-color);color:var(--text-color)}.summary-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.checkout-list[_ngcontent-%COMP%]{padding:0}.checkout-item[_ngcontent-%COMP%]{padding:16px 0;min-height:100px;border-bottom:1px solid var(--border-color)}.checkout-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.checkout-item-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;gap:16px}.item-info[_ngcontent-%COMP%]{display:flex;gap:12px;flex:1;min-width:0}.item-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;flex-shrink:0}.item-details[_ngcontent-%COMP%]{flex:1;min-width:0}.checkout-item-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-color);margin-bottom:4px;line-height:1.3}.item-meta[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2px}.item-qty[_ngcontent-%COMP%], .item-price[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary-color)}.item-total[_ngcontent-%COMP%]{flex-shrink:0}.total-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--accent-color)}.checkout-summary[_ngcontent-%COMP%]{background:#ffffff05;border-radius:8px;padding:20px;margin-bottom:24px;border:1px solid var(--border-color)}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.summary-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.total-row[_ngcontent-%COMP%]{border-top:1px solid var(--border-color);padding-top:12px;margin-top:12px}.summary-label[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary-color);font-weight:500}.summary-value[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-color)}.summary-total-price[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--accent-color);font-weight:700}.checkout-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.action-btn[_ngcontent-%COMP%]{flex:1;height:48px;font-size:1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:8px}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:60px 24px;text-align:center}.empty-cart-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;opacity:.5;color:var(--text-secondary-color)}.empty-cart-msg[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-secondary-color);margin-bottom:24px;font-weight:500}.empty-cart-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.browse-btn[_ngcontent-%COMP%]{height:48px;font-size:1rem;font-weight:600;display:flex;align-items:center;gap:8px;padding:0 24px}@media (max-width: 768px){.checkout-container[_ngcontent-%COMP%]{margin:16px auto;border-radius:8px}.checkout-title[_ngcontent-%COMP%]{padding:20px 20px 12px;font-size:1.3rem}.checkout-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.checkout-content[_ngcontent-%COMP%]{padding:20px}.order-summary[_ngcontent-%COMP%]{margin-bottom:24px}.summary-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:16px}.summary-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.checkout-item[_ngcontent-%COMP%]{padding:12px 0;min-height:90px}.checkout-item-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.item-info[_ngcontent-%COMP%]{gap:10px}.item-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.checkout-item-title[_ngcontent-%COMP%]{font-size:.95rem}.item-meta[_ngcontent-%COMP%]{flex-direction:row;gap:8px}.item-qty[_ngcontent-%COMP%], .item-price[_ngcontent-%COMP%]{font-size:.8rem}.total-amount[_ngcontent-%COMP%]{font-size:1rem;align-self:flex-end}.checkout-summary[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px}.summary-row[_ngcontent-%COMP%]{margin-bottom:10px}.total-row[_ngcontent-%COMP%]{padding-top:10px;margin-top:10px}.summary-label[_ngcontent-%COMP%], .summary-value[_ngcontent-%COMP%]{font-size:.95rem}.summary-total-price[_ngcontent-%COMP%]{font-size:1.2rem}.checkout-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.action-btn[_ngcontent-%COMP%]{height:44px;font-size:.95rem}.empty-cart[_ngcontent-%COMP%]{padding:40px 20px}.empty-cart-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:12px}.empty-cart-msg[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:20px}.browse-btn[_ngcontent-%COMP%]{height:44px;font-size:.95rem;padding:0 20px}}@media (max-width: 480px){.checkout-container[_ngcontent-%COMP%]{margin:12px auto;border-radius:6px}.checkout-title[_ngcontent-%COMP%]{padding:16px 16px 10px;font-size:1.2rem}.checkout-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.checkout-content[_ngcontent-%COMP%]{padding:16px}.order-summary[_ngcontent-%COMP%]{margin-bottom:20px}.summary-title[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:12px}.summary-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.checkout-item[_ngcontent-%COMP%]{padding:10px 0;min-height:90px}.checkout-item-content[_ngcontent-%COMP%]{gap:10px}.item-info[_ngcontent-%COMP%]{gap:8px}.item-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.checkout-item-title[_ngcontent-%COMP%]{font-size:.9rem}.item-meta[_ngcontent-%COMP%]{gap:6px}.item-qty[_ngcontent-%COMP%], .item-price[_ngcontent-%COMP%]{font-size:.75rem}.total-amount[_ngcontent-%COMP%]{font-size:.95rem}.checkout-summary[_ngcontent-%COMP%]{padding:12px;margin-bottom:16px}.summary-row[_ngcontent-%COMP%]{margin-bottom:8px}.total-row[_ngcontent-%COMP%]{padding-top:8px;margin-top:8px}.summary-label[_ngcontent-%COMP%], .summary-value[_ngcontent-%COMP%]{font-size:.9rem}.summary-total-price[_ngcontent-%COMP%]{font-size:1.1rem}.checkout-actions[_ngcontent-%COMP%]{gap:8px}.action-btn[_ngcontent-%COMP%]{height:40px;font-size:.9rem}.empty-cart[_ngcontent-%COMP%]{padding:30px 16px}.empty-cart-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:10px}.empty-cart-msg[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:16px}.browse-btn[_ngcontent-%COMP%]{height:40px;font-size:.9rem;padding:0 16px}}"]})};var tt=[{path:"",component:m},{path:"order-success",loadComponent:()=>import("./chunk-YTGH7JHB.js").then(i=>i.OrderSuccess)}],K=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=v({type:i});static \u0275inj=P({imports:[s,d.forChild(tt),g,x,m]})};export{K as CheckoutModule};
