import{a as et}from"./chunk-X6VPFC4J.js";import{a as X,b as Z}from"./chunk-JUGDZW3R.js";import"./chunk-BZIHYYEO.js";import{e as y}from"./chunk-ZYO6VNKS.js";import"./chunk-UTOG7DYV.js";import{a as tt}from"./chunk-SPORWBVK.js";import{a as H,e as Q,f as M}from"./chunk-K6IU7W3E.js";import{l as Y,m as G,n as J,p as K}from"./chunk-DJ67HNH7.js";import{R as U,S as W,b as F,c as $,e as v,h as z,i as R,m as V,o as A,p as D,r as k}from"./chunk-XGMFNALE.js";import{$a as E,Ab as S,Eb as m,Gb as d,Oa as s,Pb as C,Rb as a,Sb as x,Ta as p,Tb as j,V as O,Wb as q,Zb as T,_a as I,ca as f,da as g,db as B,rb as u,s as P,sb as o,tb as r,yb as L,zb as N}from"./chunk-4B3ET35P.js";var ot=c=>["/book",c];function rt(c,i){if(c&1){let t=S();L(0),o(1,"div",28)(2,"button",29),m("click",function(){f(t);let n=d().$implicit,l=d();return g(l.decrementBook(n))}),o(3,"mat-icon"),a(4,"remove"),r()(),o(5,"span",30),a(6),r(),o(7,"button",29),m("click",function(){f(t);let n=d().$implicit,l=d();return g(l.incrementBook(n))}),o(8,"mat-icon"),a(9,"add"),r()()(),N()}if(c&2){let t=d().$implicit,e=d();s(6),x(e.getBookQuantity(t))}}function at(c,i){if(c&1){let t=S();o(0,"mat-card",11)(1,"div",12)(2,"img",13),m("error",function(n){f(t);let l=d();return g(l.onImageError(n))}),r(),o(3,"div",14)(4,"mat-icon",15),a(5,"auto_stories"),r()(),o(6,"div",16)(7,"button",17),a(8," View Details "),r(),o(9,"button",18),m("click",function(){let n=f(t).$implicit,l=d();return g(l.addToCart(n))}),o(10,"mat-icon"),a(11,"add_shopping_cart"),r()()()(),o(12,"div",19)(13,"div",20)(14,"span",21),a(15),r(),o(16,"div",22)(17,"mat-icon",23),a(18,"star"),r(),o(19,"span"),a(20),r()()(),o(21,"h3",24),a(22),r(),o(23,"div",25)(24,"span",26),a(25),r(),B(26,rt,10,1,"ng-container",27),r()()()}if(c&2){let t=i.$implicit,e=d();s(2),u("alt",q(t.title)),s(5),u("routerLink",T(8,ot,t.ISBN)),s(8),x(t.author),s(5),x(t.ratings.average_rating),s(2),x(t.title),s(3),j("$",t.price.amount),s(),u("ngIf",e.getBookQuantity(t)>0)}}var h=class c{constructor(i,t,e,n,l,w){this.http=i;this.snackBar=t;this.cartService=e;this.route=n;this.router=l;this.searchService=w}books=[];allBooks=[];currentCategory="All";ngOnInit(){this.http.get("book_data.json").subscribe(i=>{this.allBooks=i,P([this.route.queryParams,this.searchService.searchTerm$]).subscribe(([t,e])=>{let n=t.category;this.currentCategory=n||"All";let l=this.allBooks;n&&(l=this.allBooks.filter(b=>b.genre===n));let w=e?e.trim():"";if(w){let b=w.toLowerCase();this.books=l.filter(_=>_.title&&_.title.toLowerCase().includes(b)||_.author&&_.author.toLowerCase().includes(b))}else this.books=l})})}filterBooks(i){i==="All"?this.router.navigate([],{relativeTo:this.route,queryParams:{category:null},queryParamsHandling:"merge"}):this.router.navigate([],{relativeTo:this.route,queryParams:{category:i},queryParamsHandling:"merge"})}onImageError(i){let t=i.target,e=t.nextElementSibling;t&&e&&(t.style.display="none",e.style.display="flex"),console.warn("Image failed to load:",t.src)}getCart(){return this.cartService.getCart()}setCart(i){this.cartService.setCart(i)}addToCart(i){let t=this.getCart(),e=t.findIndex(n=>n.ISBN===i.ISBN);e>-1?t[e].quantity+=1:t.push({ISBN:i.ISBN,title:i.title,quantity:1,price:i.price}),this.setCart(t),this.snackBar.open(`${i.title} added to cart!`,"Close",{duration:2e3})}getBookQuantity(i){let e=this.getCart().find(n=>n.ISBN===i.ISBN);return e?e.quantity:0}incrementBook(i){let t=this.getCart(),e=t.findIndex(n=>n.ISBN===i.ISBN);e>-1&&(t[e].quantity+=1,this.setCart(t),this.snackBar.open(`Increased quantity of ${i.title}`,"Close",{duration:1500}))}decrementBook(i){let t=this.getCart(),e=t.findIndex(n=>n.ISBN===i.ISBN);e>-1&&(t[e].quantity>1?(t[e].quantity-=1,this.setCart(t),this.snackBar.open(`Decreased quantity of ${i.title}`,"Close",{duration:1500})):(t.splice(e,1),this.setCart(t),this.snackBar.open(`${i.title} removed from cart!`,"Close",{duration:1500})))}removeBook(i){let t=this.getCart(),e=t.findIndex(n=>n.ISBN===i.ISBN);e>-1&&(t.splice(e,1),this.setCart(t),this.snackBar.open(`${i.title} removed from cart!`,"Close",{duration:1500}))}static \u0275fac=function(t){return new(t||c)(p(z),p(X),p(tt),p(V),p(A),p(et))};static \u0275cmp=I({type:c,selectors:[["app-book-list"]],decls:21,vars:7,consts:[[1,"hero-section"],[1,"hero-content"],[1,"hero-title"],[1,"hero-subtitle"],["mat-raised-button","","color","accent","routerLink","/best-sellers",1,"hero-cta"],[1,"book-list-container"],[1,"list-header"],[1,"filter-options"],["mat-button","",1,"filter-btn",3,"click"],[1,"books-grid"],["class","book-card-premium",4,"ngFor","ngForOf"],[1,"book-card-premium"],[1,"card-image-wrapper"],["mat-card-image","","src","generic-book-cover.jpg","onerror","this.style.display='none'; this.nextElementSibling.style.display='flex';",1,"book-cover",3,"error","alt"],[1,"book-image-placeholder",2,"display","none"],[1,"placeholder-icon"],[1,"card-overlay"],["mat-raised-button","","color","accent",1,"overlay-btn","view-btn",3,"routerLink"],["mat-fab","","color","primary","aria-label","Quick Add",1,"overlay-btn","quick-add-btn",3,"click"],[1,"card-content"],[1,"card-meta"],[1,"book-author"],[1,"compact-rating"],[1,"star-tiny"],[1,"book-title"],[1,"card-footer"],[1,"price"],[4,"ngIf"],[1,"mini-qty-controls"],["mat-icon-button","",1,"mini-btn",3,"click"],[1,"qty-val"]],template:function(t,e){t&1&&(o(0,"header",0)(1,"div",1)(2,"h1",2),a(3,"Curated Books for the Modern Mind"),r(),o(4,"p",3),a(5,"Discover our collection of award-winning fiction, non-fiction, and timeless classics."),r(),o(6,"button",4),a(7,"Shop Best Sellers"),r()()(),o(8,"div",5)(9,"div",6)(10,"h2"),a(11,"Trending Now"),r(),o(12,"div",7)(13,"button",8),m("click",function(){return e.filterBooks("All")}),a(14,"All"),r(),o(15,"button",8),m("click",function(){return e.filterBooks("Fiction")}),a(16,"Fiction"),r(),o(17,"button",8),m("click",function(){return e.filterBooks("Non-Fiction")}),a(18,"Non-Fiction"),r()()(),o(19,"div",9),B(20,at,27,10,"mat-card",10),r()()),t&2&&(s(13),C("active",e.currentCategory==="All"),s(2),C("active",e.currentCategory==="Fiction"),s(2),C("active",e.currentCategory==="Non-Fiction"),s(3),u("ngForOf",e.books))},dependencies:[y,M,H,Q,K,G,Y,J,W,U,k,D,v,F,$,R,Z],styles:['.hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);padding:80px 24px;text-align:center;border-bottom:1px solid rgba(255,255,255,.05);margin-bottom:40px;position:relative;overflow:hidden}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(59,130,246,.1) 0%,transparent 70%);pointer-events:none}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:800px;margin:0 auto}.hero-title[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;letter-spacing:-1px;color:#fff;margin-bottom:20px;line-height:1.1;text-shadow:0 4px 20px rgba(0,0,0,.3)}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#94a3b8;margin-bottom:40px;font-weight:300;line-height:1.6}.hero-cta[_ngcontent-%COMP%]{padding:12px 40px;font-size:1.1rem;border-radius:50px;font-weight:600;background:linear-gradient(135deg,#ffd740,#ffab00);color:#0f172a;box-shadow:0 4px 20px #ffc10766;transition:transform .2s ease,box-shadow .2s ease}.hero-cta[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 30px #ffc10780}.book-list-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 24px 80px}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:40px;flex-wrap:wrap;gap:16px}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0;color:#fff;letter-spacing:-.5px}.filter-options[_ngcontent-%COMP%]{display:flex;gap:8px;background:#ffffff08;padding:4px;border-radius:50px;border:1px solid rgba(255,255,255,.05)}.filter-btn[_ngcontent-%COMP%]{color:#94a3b8;font-weight:500;border-radius:20px;padding:6px 20px}.filter-btn.active[_ngcontent-%COMP%]{background-color:#ffffff1a;color:#fff}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:32px}.book-card-premium[_ngcontent-%COMP%]{background-color:#1e293b;border-radius:16px;display:flex;flex-direction:column;overflow:hidden;transition:transform .2s;border:1px solid rgba(255,255,255,.05);box-shadow:0 4px 12px #0003;height:100%;position:relative}.book-card-premium[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #0006;background-color:#ffffff0d}.card-image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:320px;display:flex;align-items:center;justify-content:center;background-color:#0d0d0d;padding:20px;overflow:hidden;border-bottom:1px solid rgba(255,255,255,.05)}.book-cover[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;object-position:center;transition:transform .3s ease}.card-image-wrapper[_ngcontent-%COMP%]:hover   .book-cover[_ngcontent-%COMP%]{transform:scale(1.05)}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;opacity:0;background:#0006;transition:opacity .3s ease;pointer-events:none}.card-image-wrapper[_ngcontent-%COMP%]:hover   .card-overlay[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.overlay-btn[_ngcontent-%COMP%]{transform:translateY(20px);transition:transform .3s ease}.card-image-wrapper[_ngcontent-%COMP%]:hover   .overlay-btn[_ngcontent-%COMP%]{transform:translateY(0)}.card-content[_ngcontent-%COMP%]{flex:1;padding:24px;display:flex;flex-direction:column}.card-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.book-author[_ngcontent-%COMP%]{font-size:1rem;color:#94a3b8}.compact-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.star-tiny[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#ffd740}.book-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin:0 0 8px;line-height:1.3;color:#f1f5f9;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.card-footer[_ngcontent-%COMP%]{margin-top:auto;display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid rgba(255,255,255,.05)}.price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#ffd740}.mini-qty-controls[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff0d;border-radius:20px;padding:4px}.mini-btn[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px;line-height:normal;display:flex!important;align-items:center;justify-content:center;color:#fff;padding:0;border-radius:50%}.mini-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.qty-val[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;padding:0 12px;color:#fff;min-width:24px;text-align:center;line-height:1}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}']})};var ct=[{path:"",component:h}],it=class c{static \u0275fac=function(t){return new(t||c)};static \u0275mod=E({type:c});static \u0275inj=O({imports:[v,k.forChild(ct),y,M,h]})};export{it as BookListModule};
