<header class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Curated Books for the Modern Mind</h1>
    <p class="hero-subtitle">Discover our collection of award-winning fiction, non-fiction, and timeless classics.</p>
    <button mat-raised-button color="accent" routerLink="/best-sellers" class="hero-cta">Shop Best Sellers</button>
  </div>
</header>

<div class="book-list-container">
  <div class="list-header">
    <h2>Trending Now</h2>
    <div class="filter-options">
      <button mat-button class="filter-btn" [class.active]="currentCategory === 'All'"
        (click)="filterBooks('All')">All</button>
      <button mat-button class="filter-btn" [class.active]="currentCategory === 'Fiction'"
        (click)="filterBooks('Fiction')">Fiction</button>
      <button mat-button class="filter-btn" [class.active]="currentCategory === 'Non-Fiction'"
        (click)="filterBooks('Non-Fiction')">Non-Fiction</button>
    </div>
  </div>

  <div class="books-grid">
    <mat-card *ngFor="let book of books" class="book-card-premium">
      <div class="card-image-wrapper">
        <img mat-card-image src="generic-book-cover.jpg" alt="{{ book.title }}" class="book-cover"
          (error)="onImageError($event)"
          onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
        <div class="book-image-placeholder" style="display: none;">
          <mat-icon class="placeholder-icon">auto_stories</mat-icon>
        </div>

        <!-- Hover Overlay -->
        <div class="card-overlay">
          <button mat-raised-button color="accent" [routerLink]="['/book', book.ISBN]" class="overlay-btn view-btn">
            View Details
          </button>
          <button mat-fab color="primary" (click)="addToCart(book)" class="overlay-btn quick-add-btn"
            aria-label="Quick Add">
            <mat-icon>add_shopping_cart</mat-icon>
          </button>
        </div>
      </div>

      <div class="card-content">
        <div class="card-meta">
          <span class="book-author">{{ book.author }}</span>
          <div class="compact-rating">
            <mat-icon class="star-tiny">star</mat-icon>
            <span>{{ book.ratings.average_rating }}</span>
          </div>
        </div>

        <h3 class="book-title">{{ book.title }}</h3>

        <div class="card-footer">
          <span class="price">${{ book.price.amount }}</span>

          <ng-container *ngIf="getBookQuantity(book) > 0">
            <div class="mini-qty-controls">
              <button mat-icon-button (click)="decrementBook(book)"
                class="mini-btn"><mat-icon>remove</mat-icon></button>
              <span class="qty-val">{{ getBookQuantity(book) }}</span>
              <button mat-icon-button (click)="incrementBook(book)" class="mini-btn"><mat-icon>add</mat-icon></button>
            </div>
          </ng-container>
        </div>
      </div>
    </mat-card>
  </div>
</div>